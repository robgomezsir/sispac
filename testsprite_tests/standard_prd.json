{
  "meta": {
    "project": "SisPAC - Sistema de Perfil de Avaliação Comportamental",
    "date": "2025-09-08",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "SisPAC é uma aplicação web progressiva (PWA) para avaliação comportamental de candidatos através de questionários estruturados, oferecendo classificação objetiva, integração com plataformas de recrutamento como Gupy, e um dashboard administrativo para gestão e análise de candidatos.",
  "core_goals": [
    "Automatizar a avaliação comportamental de candidatos com classificação baseada em valores e características pessoais.",
    "Integrar de forma eficiente com plataformas de recrutamento, especialmente Gupy, para sincronização automática de candidatos.",
    "Oferecer uma interface moderna, responsiva e PWA para diferentes dispositivos garantindo acessibilidade e usabilidade.",
    "Fornecer um sistema seguro de autenticação e autorização com níveis de acesso baseados em função (Admin, RH, User).",
    "Permitir a gestão completa de candidatos via dashboard com filtros avançados, estatísticas em tempo real e exportação de relatórios."
  ],
  "key_features": [
    "Sistema de autenticação robusto com login, logout, recuperação de senha e validação de tokens usando Supabase.",
    "Formulário interativo para avaliação comportamental com questão estruturada e algoritmo de pontuação ponderada (pontuação máxima de 100).",
    "Dashboard administrativo para visualização, filtro, busca, ordenação, e exportação de dados dos candidatos.",
    "Integração via webhook com Gupy para sincronização automática de dados dos candidatos e geração de tokens únicos.",
    "Funcionalidades PWA incluindo modo offline, instalação no dispositivo, cache inteligente e notificações push (infraestrutura implementada).",
    "Sistema de temas com suporte a modo claro e escuro para personalização da interface.",
    "Componentes para diagnósticos do sistema que monitoram conectividade e autenticidade do usuário."
  ],
  "user_flow_summary": [
    "Fluxo do Candidato: acesso via link único com token, preenchimento do questionário de avaliação, visualização dos resultados, e confirmação de envio.",
    "Fluxo do RH: login no sistema, acesso ao dashboard, aplicação de filtros avançados em candidatos, geração e exportação de relatórios detalhados.",
    "Fluxo de integração Gupy: recepção automática de dados via webhook, geração de token único, envio de link para candidato, realização do teste e sincronização automática dos resultados."
  ],
  "validation_criteria": [
    "Sistema deve garantir autenticação segura com tokens JWT e refresh automático via Supabase.",
    "Formulário deve validar respostas e calcular pontuação baseada em pesos definidos (características, frases, valores).",
    "Dashboard deve permitir busca, filtros avançados, ordenação, e exportação correta de relatórios em .xlsx.",
    "Webhook deve receber e processar dados da Gupy corretamente, gerando tokens e sincronizando candidatos.",
    "PWA deve funcionar offline, permitir instalação no dispositivo, e ter cache eficiente para suporte a navegação sem conexão.",
    "Todas as funcionalidades devem ser acessíveis conforme níveis de permissão (Admin, RH, User).",
    "Sistema deve manter uptime superior a 99.9% e tempo de resposta da API inferior a 500ms.",
    "Taxa de conclusão dos testes comportamentais deve ser superior a 90%, com satisfação do usuário acima de 4.5/5."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "React",
      "Vite",
      "Node.js",
      "Supabase",
      "TailwindCSS",
      "React Router",
      "Lucide React"
    ],
    "features": [
      {
        "name": "Sistema de Autenticação",
        "description": "Sistema de autenticação com Supabase, incluindo login, logout, recuperação de senha e validação de tokens",
        "files": [
          "src/hooks/useAuth.jsx",
          "src/lib/supabase.js",
          "src/pages/AuthCallback.jsx",
          "src/pages/RequestPasswordReset.jsx",
          "src/pages/ResetPassword.jsx",
          "api/validate-token.js",
          "api/token-utils.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Sistema de Autenticação SisPAC",
            "version": "1.0.0"
          },
          "paths": {
            "/auth/login": {
              "post": {
                "summary": "Login de usuário",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/auth/validate-token": {
              "post": {
                "summary": "Validar token de candidato",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "token": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Formulário de Avaliação Comportamental",
        "description": "Formulário interativo para candidatos responderem questões de avaliação comportamental com validação e pontuação",
        "files": [
          "src/pages/Formulario.jsx",
          "src/data/questions.js",
          "src/utils/scoring.js",
          "src/utils/statusUtils.jsx"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Formulário de Avaliação SisPAC",
            "version": "1.0.0"
          },
          "paths": {
            "/form": {
              "get": {
                "summary": "Acessar formulário de avaliação",
                "parameters": [
                  {
                    "name": "token",
                    "in": "query",
                    "schema": {
                      "type": "string"
                    }
                  }
                ]
              }
            }
          }
        }
      },
      {
        "name": "Dashboard Administrativo",
        "description": "Dashboard para administradores e RH visualizarem e gerenciarem candidatos, com filtros, busca e exportação",
        "files": [
          "src/pages/Dashboard.jsx",
          "src/components/StatusProfileCard.jsx",
          "src/components/StatusProfileStats.jsx",
          "src/components/AdvancedFilters.jsx"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Dashboard SisPAC",
            "version": "1.0.0"
          },
          "paths": {
            "/dashboard": {
              "get": {
                "summary": "Acessar dashboard administrativo"
              }
            }
          }
        }
      },
      {
        "name": "Gerenciamento de Candidatos",
        "description": "APIs para adicionar, atualizar, deletar e listar candidatos",
        "files": [
          "api/candidates.js",
          "api/addCandidate.js",
          "api/deleteCandidate.js",
          "api/updateCandidateByToken.js",
          "api/insertCandidate.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Gerenciamento de Candidatos SisPAC",
            "version": "1.0.0"
          },
          "paths": {
            "/api/candidates": {
              "get": {
                "summary": "Listar candidatos"
              },
              "post": {
                "summary": "Adicionar candidato",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/candidate/{id}": {
              "get": {
                "summary": "Obter candidato por ID"
              },
              "delete": {
                "summary": "Deletar candidato"
              }
            }
          }
        }
      },
      {
        "name": "Integração com Gupy",
        "description": "Webhook para receber dados de candidatos da plataforma Gupy",
        "files": [
          "api/gupy-webhook.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Integração Gupy SisPAC",
            "version": "1.0.0"
          },
          "paths": {
            "/api/gupy-webhook": {
              "post": {
                "summary": "Webhook do Gupy para sincronização de candidatos"
              }
            }
          }
        }
      },
      {
        "name": "Recursos PWA",
        "description": "Funcionalidades de Progressive Web App incluindo modo offline e instalação",
        "files": [
          "src/hooks/usePWA.jsx",
          "src/components/PWAInstallPrompt.jsx",
          "src/components/OfflineIndicator.jsx",
          "public/manifest.json",
          "public/sw.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Recursos PWA SisPAC",
            "version": "1.0.0"
          }
        }
      },
      {
        "name": "Sistema de Temas",
        "description": "Sistema de troca de temas com suporte a modo claro/escuro",
        "files": [
          "src/contexts/ThemeContext.jsx",
          "src/components/ThemeDropdown.jsx"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Sistema de Temas SisPAC",
            "version": "1.0.0"
          }
        }
      },
      {
        "name": "Diagnósticos do Sistema",
        "description": "Componentes para diagnóstico de conectividade e autenticação",
        "files": [
          "src/components/ConnectivityDiagnostic.jsx",
          "src/components/AuthDebug.jsx",
          "src/components/ErrorBoundary.jsx"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Diagnósticos SisPAC",
            "version": "1.0.0"
          }
        }
      }
    ]
  }
}
